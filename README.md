# Сортировка устройства хранения данных типа лента (Tape)
Написан класс, реализующий интерфейс для работы с устройством типа лента и эмулирующий работу с лентой
посредством обычного файла в классе [Tape](https://github.com/AlexStpm/Tape/blob/master/Tape.h)

Конфигурация задержки ленты происходит с помощью файла *config.txt*. Если файл пуст, содержит некорректные данные или не существует, значение задержки инициализируется 0.

## Алгоритм сортировки
Сортировка происходит с помощью метода *естесвенного слияния*.

1. Исходная последовательность разбивается на две половины.
   Разбиение происходит следующим образом: первая серия (упорядоченная последовательность элементов) исходной последовательности
   записывается в первую временную последовательность, вторая серия исходной последовательности записывается во вторую временную последовательность, третья – снова в первую, четвертая – во вторую и т. д.
2. Обе временные последовательности посерийно сливаются в выходную.
   При этом одиночные элементы временных последовательностей сравниваются и сливаются в последовательность a в порядке возрастания в рамках полученой серии. В итоге количество серий уменьшается в двое.
3. Полученная последовательность вновь разбивается на две. Данный шаг аналогичен шагу 1.
4. Проиходит повторение предыдущих шагов, пока количество серий во временных последовательностях не будет равно 1. После слияния двух временных последовательностей,
   в которых находится по одной серии, выходная последовательность оказывается отсортированной.
### Пример
Дана последовательность (для удобочитаемости апострофами разделены серии): 

*15 18 24 32 40 45 \` 21 29 31 43 51 \` 42 60*

После разбиения (шаг 1) получаем последовательности:

*15 18 24 32 40 45 \` 42 60*

*21 29 31 43 51*

Слияние последовательностей (шаг 2):

*15 18 21 24 29 31 32 40 43 45 51 \` 42 60*

Снова разбиение:

*15 18 21 24 29 31 32 40 43 45 51*

*42 60*

И, после слияния, последовательность оказывается отсортированной:

*15 18 21 24 29 31 32 40 42 43 45 51 60*

## Алгоритм работы программы

Приложение принимает на вход имя входного файла и производит сортировку, сохраняя результат в файл *output.txt*.

Использование (\<fileName\> - название входного файла):

    ./main \<fileName\>

Пример содержания входного файла:

`15          -18         32            18          ` - для каждого элемента отведено 12 символов

Для создания фходных файлов можно использовать [Generator](https://github.com/AlexStpm/Tape/blob/master/Generator.cpp), который создаёт файл с заданной длиной последовательности.

Использование (N - длина последовательности):

    ./generate N
    
## Использование


Поддерживаемые цели:

`build`: компиляция программы и генератора

	$ make build

`run`: запуск построенной программы (\<fileName\> - название входного файла)

	$ make run fileName=\<fileName\>

`test`: компиляция тестов, создание файлов для тестирования, запуск тестов

	$ make test

`clean`: удаление файлов для тестирования и выходных файлов

	$ make clean

`all`: компиляция файлов проекта и запуск тестов

	$ make 

 ## Unit-тестирование

Тестирование осуществляется при помощи библиотеки [GoogleTest](https://github.com/google/googletest). 
Unit-тесты реализованы в файле [UnitTests.cpp](https://github.com/AlexStpm/Tape/blob/master/UnitTests.cpp).
Написаны тесты для проверки сортировки лент с различным числом элементов и некорректными данными.

